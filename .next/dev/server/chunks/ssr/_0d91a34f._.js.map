{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NISCHAL/Desktop/fullStack_project/frontend/components/footer.tsx"],"sourcesContent":["export function Footer() {\n  return (\n    <footer className=\"bg-primary text-primary-foreground py-12\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8\">\n          <div>\n            <h3 className=\"font-bold text-lg mb-4\">ShowSphere</h3>\n            <p className=\"text-primary-foreground/80 text-sm\">\n              Your ultimate destination for movies, events, and entertainment\n            </p>\n          </div>\n          <div>\n            <h4 className=\"font-bold mb-4\">Browse</h4>\n            <ul className=\"space-y-2 text-sm text-primary-foreground/80\">\n              <li>\n                <a href=\"#\" className=\"hover:text-accent transition\">\n                  Movies\n                </a>\n              </li>\n              <li>\n                <a href=\"#\" className=\"hover:text-accent transition\">\n                  Events\n                </a>\n              </li>\n              <li>\n                <a href=\"#\" className=\"hover:text-accent transition\">\n                  Activities\n                </a>\n              </li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-bold mb-4\">Support</h4>\n            <ul className=\"space-y-2 text-sm text-primary-foreground/80\">\n              <li>\n                <a href=\"#\" className=\"hover:text-accent transition\">\n                  Help Center\n                </a>\n              </li>\n              <li>\n                <a href=\"#\" className=\"hover:text-accent transition\">\n                  Contact Us\n                </a>\n              </li>\n              <li>\n                <a href=\"#\" className=\"hover:text-accent transition\">\n                  FAQs\n                </a>\n              </li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-bold mb-4\">Legal</h4>\n            <ul className=\"space-y-2 text-sm text-primary-foreground/80\">\n              <li>\n                <a href=\"#\" className=\"hover:text-accent transition\">\n                  Terms\n                </a>\n              </li>\n              <li>\n                <a href=\"#\" className=\"hover:text-accent transition\">\n                  Privacy\n                </a>\n              </li>\n              <li>\n                <a href=\"#\" className=\"hover:text-accent transition\">\n                  Cancellation\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div className=\"border-t border-primary-foreground/20 pt-8 text-center text-sm text-primary-foreground/80\">\n          <p>&copy; 2025 ShowSphere. All rights reserved.</p>\n        </div>\n      </div>\n    </footer>\n  )\n}\n"],"names":[],"mappings":";;;;;;AAAO,SAAS;IACd,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAAyB;;;;;;8CACvC,8OAAC;oCAAE,WAAU;8CAAqC;;;;;;;;;;;;sCAIpD,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAAiB;;;;;;8CAC/B,8OAAC;oCAAG,WAAU;;sDACZ,8OAAC;sDACC,cAAA,8OAAC;gDAAE,MAAK;gDAAI,WAAU;0DAA+B;;;;;;;;;;;sDAIvD,8OAAC;sDACC,cAAA,8OAAC;gDAAE,MAAK;gDAAI,WAAU;0DAA+B;;;;;;;;;;;sDAIvD,8OAAC;sDACC,cAAA,8OAAC;gDAAE,MAAK;gDAAI,WAAU;0DAA+B;;;;;;;;;;;;;;;;;;;;;;;sCAM3D,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAAiB;;;;;;8CAC/B,8OAAC;oCAAG,WAAU;;sDACZ,8OAAC;sDACC,cAAA,8OAAC;gDAAE,MAAK;gDAAI,WAAU;0DAA+B;;;;;;;;;;;sDAIvD,8OAAC;sDACC,cAAA,8OAAC;gDAAE,MAAK;gDAAI,WAAU;0DAA+B;;;;;;;;;;;sDAIvD,8OAAC;sDACC,cAAA,8OAAC;gDAAE,MAAK;gDAAI,WAAU;0DAA+B;;;;;;;;;;;;;;;;;;;;;;;sCAM3D,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAAiB;;;;;;8CAC/B,8OAAC;oCAAG,WAAU;;sDACZ,8OAAC;sDACC,cAAA,8OAAC;gDAAE,MAAK;gDAAI,WAAU;0DAA+B;;;;;;;;;;;sDAIvD,8OAAC;sDACC,cAAA,8OAAC;gDAAE,MAAK;gDAAI,WAAU;0DAA+B;;;;;;;;;;;sDAIvD,8OAAC;sDACC,cAAA,8OAAC;gDAAE,MAAK;gDAAI,WAAU;0DAA+B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAO7D,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;kCAAE;;;;;;;;;;;;;;;;;;;;;;AAKb"}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NISCHAL/Desktop/fullStack_project/frontend/app/%28main%29/my-bookings/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/context/auth-context';\r\nimport { bookingsApi } from '@/lib/api';\r\nimport { format } from 'date-fns';\r\nimport { Calendar, MapPin, Ticket, Loader2, AlertCircle } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport Image from 'next/image';\r\nimport { Footer } from '@/components/footer';\r\n\r\ninterface Booking {\r\n    id: string;\r\n    created_at: string;\r\n    total_price: number;\r\n    status: string;\r\n    show_id: string;\r\n    user_id: string;\r\n    show: {\r\n        id: string;\r\n        movie_id: string;\r\n        theater_id: string;\r\n        start_time: string;\r\n        end_time: string;\r\n        language: string;\r\n        movie: {\r\n            id: string;\r\n            title: string;\r\n            image: string;\r\n            duration: number;\r\n        };\r\n        theater: {\r\n            id: string;\r\n            name: string;\r\n            location: string;\r\n        };\r\n    };\r\n    seat_numbers: string[];\r\n}\r\n\r\nexport default function MyBookingsPage() {\r\n    const { user, loading: authLoading } = useAuth();\r\n    const router = useRouter();\r\n    const [bookings, setBookings] = useState<Booking[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (!authLoading && !user) {\r\n            router.push('/login?redirect=/my-bookings');\r\n        }\r\n    }, [user, authLoading, router]);\r\n\r\n    useEffect(() => {\r\n        async function fetchBookings() {\r\n            if (!user) return;\r\n\r\n            try {\r\n                setLoading(true);\r\n                // The API returns an array of bookings\r\n                const data = await bookingsApi.getUserBookings();\r\n                setBookings(data);\r\n            } catch (err) {\r\n                console.error('Failed to fetch bookings:', err);\r\n                setError('Failed to load your bookings. Please try again later.');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        }\r\n\r\n        if (user) {\r\n            fetchBookings();\r\n        }\r\n    }, [user]);\r\n\r\n    if (authLoading || (loading && !error)) {\r\n        return (\r\n            <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n                <Loader2 className=\"w-12 h-12 text-accent animate-spin\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!user) {\r\n        return null; // Will redirect\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-background flex flex-col\">\r\n            <main className=\"flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 w-full\">\r\n                <h1 className=\"text-3xl md:text-4xl font-bold text-foreground mb-8\">My Bookings</h1>\r\n\r\n                {error ? (\r\n                    <div className=\"bg-destructive/10 text-destructive p-4 rounded-lg flex items-center gap-2\">\r\n                        <AlertCircle className=\"w-5 h-5\" />\r\n                        <p>{error}</p>\r\n                    </div>\r\n                ) : bookings.length === 0 ? (\r\n                    <div className=\"text-center py-16 bg-card rounded-xl border border-border\">\r\n                        <Ticket className=\"w-16 h-16 text-muted-foreground mx-auto mb-4\" />\r\n                        <h2 className=\"text-xl font-semibold text-foreground mb-2\">No bookings yet</h2>\r\n                        <p className=\"text-muted-foreground mb-6\">You haven't booked any movie tickets yet.</p>\r\n                        <Button\r\n                            onClick={() => router.push('/movies')}\r\n                            className=\"bg-accent hover:bg-accent/90 text-accent-foreground font-bold\"\r\n                        >\r\n                            Browse Movies\r\n                        </Button>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"space-y-6\">\r\n                        {bookings.map((booking) => {\r\n                            if (!booking.show) return null;\r\n                            const showDate = new Date(booking.show.start_time);\r\n                            const formattedDate = format(showDate, 'EEE, dd MMM yyyy');\r\n                            const formattedTime = format(showDate, 'hh:mm a');\r\n\r\n                            // Sort seats to display them nicely\r\n                            const seatNumbers = [...booking.seat_numbers]\r\n                                .sort((a, b) => {\r\n                                    const rowA = a.match(/[A-Z]+/)?.[0] || '';\r\n                                    const rowB = b.match(/[A-Z]+/)?.[0] || '';\r\n                                    if (rowA !== rowB) return rowA.localeCompare(rowB);\r\n                                    const numA = parseInt(a.match(/\\d+/)?.[0] || '0');\r\n                                    const numB = parseInt(b.match(/\\d+/)?.[0] || '0');\r\n                                    return numA - numB;\r\n                                })\r\n                                .join(', ');\r\n\r\n                            return (\r\n                                <div\r\n                                    key={booking.id}\r\n                                    className=\"bg-card rounded-xl border border-border overflow-hidden shadow-sm hover:shadow-md transition-shadow flex flex-col md:flex-row\"\r\n                                >\r\n                                    {/* Movie Image */}\r\n                                    <div className=\"relative w-full md:w-48 h-48 md:h-auto bg-muted flex-shrink-0\">\r\n                                        {booking.show.movie.image ? (\r\n                                            <Image\r\n                                                src={booking.show.movie.image}\r\n                                                alt={booking.show.movie.title}\r\n                                                fill\r\n                                                className=\"object-cover\"\r\n                                            />\r\n                                        ) : (\r\n                                            <div className=\"w-full h-full flex items-center justify-center text-muted-foreground\">\r\n                                                <Ticket className=\"w-12 h-12\" />\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    {/* Booking Details */}\r\n                                    <div className=\"flex-grow p-6 flex flex-col justify-between\">\r\n                                        <div>\r\n                                            <div className=\"flex justify-between items-start mb-2\">\r\n                                                <h2 className=\"text-xl font-bold text-foreground\">{booking.show.movie.title}</h2>\r\n                                                <span className={`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${booking.status === 'confirmed'\r\n                                                    ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400'\r\n                                                    : 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400'\r\n                                                    }`}>\r\n                                                    {booking.status}\r\n                                                </span>\r\n                                            </div>\r\n\r\n                                            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-y-2 gap-x-8 text-sm text-muted-foreground mt-4\">\r\n                                                <div className=\"flex items-center gap-2\">\r\n                                                    <MapPin className=\"w-4 h-4 text-accent\" />\r\n                                                    <span className=\"font-medium text-foreground\">{booking.show.theater.name}</span>\r\n                                                    <span>- {booking.show.theater.location}</span>\r\n                                                </div>\r\n                                                <div className=\"flex items-center gap-2\">\r\n                                                    <Calendar className=\"w-4 h-4 text-accent\" />\r\n                                                    <span className=\"font-medium text-foreground\">{formattedDate}</span>\r\n                                                    <span>| {formattedTime}</span>\r\n                                                </div>\r\n                                                <div className=\"flex items-center gap-2 sm:col-span-2 mt-2\">\r\n                                                    <Ticket className=\"w-4 h-4 text-accent\" />\r\n                                                    <span>Seats:</span>\r\n                                                    <span className=\"font-medium text-foreground\">{seatNumbers}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"flex items-center justify-between mt-6 pt-4 border-t border-border\">\r\n                                            <div className=\"flex flex-col\">\r\n                                                <span className=\"text-xs text-muted-foreground\">Booking ID</span>\r\n                                                <span className=\"font-mono font-medium text-foreground\">{booking.id.substring(0, 8).toUpperCase()}...</span>\r\n                                            </div>\r\n                                            <div className=\"flex flex-col items-end\">\r\n                                                <span className=\"text-xs text-muted-foreground\">Total Amount</span>\r\n                                                <span className=\"text-lg font-bold text-accent\">â‚¹{booking.total_price}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                )}\r\n            </main>\r\n            <Footer />\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}
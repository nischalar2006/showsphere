{"version":3,"sources":["../../../../components/ui/card.tsx","../../../../app/%28main%29/booking/page.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n","'use client';\r\nimport { useEffect, useState, Suspense } from 'react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { moviesApi, showsApi } from '@/lib/api';\r\nimport { useAuth } from '@/context/auth-context';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { format } from 'date-fns';\r\n\r\ninterface Movie {\r\n    id: string;\r\n    title: string;\r\n    poster_url: string;\r\n    duration: number;\r\n}\r\n\r\ninterface Theater {\r\n    id: string;\r\n    name: string;\r\n    city: string;\r\n    location: string;\r\n}\r\n\r\ninterface Show {\r\n    id: string;\r\n    start_time: string;\r\n    price: number;\r\n    movies: Movie;\r\n    theaters: Theater;\r\n}\r\n\r\nfunction BookingContent() {\r\n    const searchParams = useSearchParams();\r\n    const movieId = searchParams.get('movie_id');\r\n    const router = useRouter();\r\n    const { isAuthenticated } = useAuth();\r\n\r\n    const [movie, setMovie] = useState<Movie | null>(null);\r\n    const [shows, setShows] = useState<Show[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (movieId) {\r\n            fetchMovieAndShows();\r\n        }\r\n    }, [movieId]);\r\n\r\n    const fetchMovieAndShows = async () => {\r\n        try {\r\n            const [movieData, showsData] = await Promise.all([\r\n                moviesApi.getById(movieId!),\r\n                showsApi.getAll({ movie_id: movieId! })\r\n            ]);\r\n            setMovie(movieData);\r\n            setShows(showsData);\r\n        } catch (err: any) {\r\n            setError(err.message || 'Failed to load booking data');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleShowSelect = (show: Show) => {\r\n        router.push(`/booking/seats?show_id=${show.id}&movie_id=${movieId}`);\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center\">\r\n                <div className=\"text-xl\">Loading...</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#0F172A] p-6\">\r\n            <div className=\"max-w-6xl mx-auto\">\r\n                <h1 className=\"text-3xl font-bold mb-6 text-[#E5E7EB]\">Book Tickets</h1>\r\n\r\n                {movie && (\r\n                    <Card className=\"mb-6 bg-[#111827] border-[#374151]\">\r\n                        <CardHeader>\r\n                            <CardTitle className=\"text-[#E5E7EB]\">{movie.title}</CardTitle>\r\n                        </CardHeader>\r\n                    </Card>\r\n                )}\r\n\r\n                {/* Show Selection */}\r\n                <Card className=\"mb-6 bg-[#111827] border-[#374151]\">\r\n                    <CardHeader>\r\n                        <CardTitle className=\"text-[#E5E7EB]\">Select Show</CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                            {shows.map((show) => (\r\n                                <Button\r\n                                    key={show.id}\r\n                                    variant=\"outline\"\r\n                                    className=\"h-auto p-4 flex flex-col items-start bg-[#1F2937] border-[#374151] text-[#E5E7EB] hover:bg-[#2563EB] hover:text-white transition-colors\"\r\n                                    onClick={() => handleShowSelect(show)}\r\n                                >\r\n                                    <div className=\"font-bold\">{show.theaters.name}</div>\r\n                                    <div className=\"text-sm text-[#9CA3AF]\">{show.theaters.city}</div>\r\n                                    <div className=\"text-sm mt-2 text-[#E5E7EB]\">\r\n                                        {format(new Date(show.start_time), 'MMM dd, h:mm a')}\r\n                                    </div>\r\n                                    <div className=\"text-sm font-semibold mt-1 text-[#FACC15]\">â‚¹{show.price}</div>\r\n                                </Button>\r\n                            ))}\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default function BookingPage() {\r\n    return (\r\n        <Suspense fallback={<div className=\"min-h-screen flex items-center justify-center text-white\">Loading Booking...</div>}>\r\n            <BookingContent />\r\n        </Suspense>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}
module.exports=[70106,a=>{"use strict";var b=a.i(72131);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],70106)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},73084,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(15618);let e=(0,a.i(70106).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);function f({onSubmit:a,initialData:d,isEditing:e,onCancel:f,tmdbFetch:g}){let[h,i]=(0,c.useState)({title:"",description:"",genre:"",language:"",duration:0,release_date:"",poster_url:"",backdrop_url:"",trailer_url:"",rating:0});(0,c.useEffect)(()=>{d?i({title:d.title||"",description:d.description||"",genre:Array.isArray(d.genre)?d.genre.join(", "):d.genre||"",language:d.language||"",duration:d.duration||0,release_date:d.release_date||"",poster_url:d.poster_url||"",backdrop_url:d.backdrop_url||"",trailer_url:d.trailer_url||"",rating:d.rating||0}):i({title:"",description:"",genre:"",language:"",duration:0,release_date:"",poster_url:"",backdrop_url:"",trailer_url:"",rating:0})},[d]);let j=async()=>{if(!h.title)return void alert("Please enter a movie title first");try{let a=await g(h.title);a&&(i({...h,title:a.title,description:a.description||"",genre:Array.isArray(a.genre)?a.genre.join(", "):a.genre||"",language:a.language||"English",duration:a.duration||0,release_date:a.release_date||"",poster_url:a.poster_url||"",backdrop_url:a.backdrop_url||"",trailer_url:a.trailer_url||"",rating:a.rating||0}),alert("Movie details fetched from TMDB!"))}catch(a){console.error("Fetch error",a)}};return(0,b.jsxs)("form",{onSubmit:b=>{b.preventDefault(),a(h)},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",placeholder:"Title",required:!0,className:"flex-1 border border-input bg-secondary text-foreground p-2 rounded focus:ring-2 focus:ring-ring focus:outline-none",value:h.title,onChange:a=>i({...h,title:a.target.value})}),(0,b.jsx)("button",{type:"button",onClick:j,className:"bg-accent text-accent-foreground px-3 py-2 rounded text-sm hover:bg-accent/90 transition-colors whitespace-nowrap",children:"Fetch TMDB"})]}),(0,b.jsx)("input",{type:"text",placeholder:"Genre (comma separated)",required:!0,className:"border border-input bg-secondary text-foreground p-2 rounded focus:ring-2 focus:ring-ring focus:outline-none",value:h.genre,onChange:a=>i({...h,genre:a.target.value})}),(0,b.jsx)("input",{type:"text",placeholder:"Language",required:!0,className:"border border-input bg-secondary text-foreground p-2 rounded focus:ring-2 focus:ring-ring focus:outline-none",value:h.language,onChange:a=>i({...h,language:a.target.value})}),(0,b.jsx)("input",{type:"number",placeholder:"Duration (min)",required:!0,className:"border border-input bg-secondary text-foreground p-2 rounded focus:ring-2 focus:ring-ring focus:outline-none",value:h.duration,onChange:a=>i({...h,duration:Number(a.target.value)})}),(0,b.jsx)("input",{type:"date",required:!0,className:"border border-input bg-secondary text-foreground p-2 rounded focus:ring-2 focus:ring-ring focus:outline-none",value:h.release_date,onChange:a=>i({...h,release_date:a.target.value})}),(0,b.jsx)("input",{type:"number",placeholder:"Rating (0-10)",required:!0,className:"border border-input bg-secondary text-foreground p-2 rounded focus:ring-2 focus:ring-ring focus:outline-none",value:h.rating,onChange:a=>i({...h,rating:Number(a.target.value)})}),(0,b.jsx)("input",{type:"text",placeholder:"Poster URL",required:!0,className:"border border-input bg-secondary text-foreground p-2 rounded md:col-span-2 focus:ring-2 focus:ring-ring focus:outline-none",value:h.poster_url,onChange:a=>i({...h,poster_url:a.target.value})}),(0,b.jsx)("input",{type:"text",placeholder:"Backdrop URL",required:!0,className:"border border-input bg-secondary text-foreground p-2 rounded md:col-span-2 focus:ring-2 focus:ring-ring focus:outline-none",value:h.backdrop_url,onChange:a=>i({...h,backdrop_url:a.target.value})}),(0,b.jsx)("input",{type:"text",placeholder:"Trailer URL (YouTube)",className:"border border-input bg-secondary text-foreground p-2 rounded md:col-span-2 focus:ring-2 focus:ring-ring focus:outline-none",value:h.trailer_url,onChange:a=>i({...h,trailer_url:a.target.value})}),(0,b.jsx)("textarea",{placeholder:"Description",required:!0,className:"border border-input bg-secondary text-foreground p-2 rounded md:col-span-2 focus:ring-2 focus:ring-ring focus:outline-none",rows:3,value:h.description,onChange:a=>i({...h,description:a.target.value})}),(0,b.jsx)("button",{type:"submit",className:`p-2 rounded md:col-span-2 transition-colors ${e?"bg-primary text-primary-foreground hover:bg-primary/90":"bg-green-600 text-white hover:bg-green-700"}`,children:e?"Update Movie":"Add Movie"}),e&&(0,b.jsx)("button",{type:"button",onClick:f,className:"md:col-span-2 text-sm text-muted-foreground hover:text-foreground mt-2",children:"Cancel Edit"})]})}var g=a.i(81560);function h({movies:a,onEdit:c,onDelete:d,isLoading:f}){return f?(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading..."}):(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:a.map(a=>(0,b.jsxs)("div",{className:"bg-card rounded-lg shadow overflow-hidden relative group border border-border",children:[(0,b.jsx)("img",{src:a.poster_url,alt:a.title,className:"w-full h-64 object-cover"}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)("h3",{className:"font-bold truncate text-foreground",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:Array.isArray(a.genre)?a.genre.join(", "):a.genre})]}),(0,b.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:()=>c(a),className:"bg-primary text-primary-foreground p-2 rounded-full hover:bg-primary/90",children:(0,b.jsx)(e,{size:16})}),(0,b.jsx)("button",{onClick:()=>d(a.id),className:"bg-destructive text-destructive-foreground p-2 rounded-full hover:bg-destructive/90",children:(0,b.jsx)(g.Trash2,{size:16})})]})]},a.id))})}function i(){let[a,g]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(null),o=a=>{let b="http://localhost:5000/api";return b.endsWith("/api")?`${b}/${a}`:`${b}/api/${a}`};(0,c.useEffect)(()=>{p()},[]);let p=async()=>{try{let a=o("movies"),b=await fetch(a),c=await b.json();Array.isArray(c)?g(c):g([])}catch(a){console.error("Failed to fetch movies",a),g([])}finally{j(!1)}},q=async a=>{try{let b=o(`tmdb/search-movie?title=${encodeURIComponent(a)}`),c=await fetch(b),d=await c.json();if(c.ok)return d;return alert(d.error||"Failed to fetch from TMDB"),null}catch(a){return console.error("TMDB Fetch Error",a),alert("Error fetching data"),null}},r=async a=>{let b={...a,genre:"string"==typeof a.genre?a.genre.split(",").map(a=>a.trim()):a.genre};try{let a=k?`${o("movies")}/${k}`:o("movies");(await fetch(a,{method:k?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).ok?(p(),l(null),n(null),alert(k?"Movie updated successfully":"Movie added successfully")):alert("Failed to save movie")}catch(a){console.error(a)}},s=async a=>{if(confirm("Are you sure?"))try{await fetch(`${o("movies")}/${a}`,{method:"DELETE"}),p()}catch(a){console.error(a)}};return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Manage Movies"}),(0,b.jsxs)("div",{className:"bg-card p-6 rounded-lg shadow-md border border-border",children:[(0,b.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,b.jsxs)("h2",{className:"text-lg font-semibold flex items-center text-foreground",children:[k?(0,b.jsx)(e,{className:"mr-2",size:20}):(0,b.jsx)(d.Plus,{className:"mr-2",size:20}),k?"Edit Movie":"Add New Movie"]})}),(0,b.jsx)(f,{onSubmit:r,initialData:m,isEditing:!!k,onCancel:()=>{l(null),n(null)},tmdbFetch:q})]}),(0,b.jsx)(h,{movies:a,onEdit:a=>{l(a.id),n(a),window.scrollTo({top:0,behavior:"smooth"})},onDelete:s,isLoading:i})]})}a.s(["default",()=>i],73084)}];

//# sourceMappingURL=_c90299f6._.js.map
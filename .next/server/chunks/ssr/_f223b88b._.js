module.exports=[70106,a=>{"use strict";var b=a.i(72131);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],70106)},41675,a=>{"use strict";let b=(0,a.i(70106).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},59309,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(81560),e=a.i(15618),f=a.i(41675);let g=(0,a.i(70106).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);function h(){let[a,h]=(0,c.useState)([]),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)({movie_id:"",theater_id:"",show_time:"",price:""});(0,c.useEffect)(()=>{Promise.all([r(),s(),t()]).then(()=>n(!1))},[]);let q=a=>{let b="http://localhost:5000/api";return b.endsWith("/api")?`${b}/${a}`:`${b}/api/${a}`},r=async()=>{try{let a=await fetch(q("shows")),b=await a.json();h(Array.isArray(b)?b:[])}catch(a){console.error("Error fetching shows",a)}},s=async()=>{try{let a=await fetch(q("movies")),b=await a.json();j(Array.isArray(b)?b:[])}catch(a){console.error("Error fetching movies",a)}},t=async()=>{try{let a=await fetch(q("theaters")),b=await a.json();l(Array.isArray(b)?b:[])}catch(a){console.error("Error fetching theaters",a)}},u=async b=>{if(confirm("Are you sure you want to delete this show?"))try{(await fetch(q(`shows/${b}`),{method:"DELETE"})).ok&&h(a.filter(a=>a.id!==b))}catch(a){console.error("Deletion failed",a)}},v=async a=>{a.preventDefault();try{let a=await fetch(q("shows"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({movie_id:o.movie_id,theater_id:o.theater_id,start_time:o.show_time,price:Number(o.price)})});a.ok?(await a.json(),r(),p({movie_id:"",theater_id:"",show_time:"",price:""}),alert("Show added successfully")):alert("Failed to add show")}catch(a){console.error("Submission failed",a)}};return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Manage Shows"}),(0,b.jsxs)("div",{className:"bg-card p-6 rounded-lg shadow-md border border-border",children:[(0,b.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center text-foreground",children:[(0,b.jsx)(e.Plus,{className:"mr-2",size:20})," Add New Show"]}),(0,b.jsxs)("form",{onSubmit:v,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("select",{required:!0,className:"border border-input bg-secondary text-foreground p-2 rounded focus:ring-2 focus:ring-ring focus:outline-none",value:o.movie_id,onChange:a=>p({...o,movie_id:a.target.value}),children:[(0,b.jsx)("option",{value:"",children:"Select Movie"}),i.map(a=>(0,b.jsx)("option",{value:a.id,children:a.title},a.id))]}),(0,b.jsxs)("select",{required:!0,className:"border border-input bg-secondary text-foreground p-2 rounded focus:ring-2 focus:ring-ring focus:outline-none",value:o.theater_id,onChange:a=>p({...o,theater_id:a.target.value}),children:[(0,b.jsx)("option",{value:"",children:"Select Theater"}),k.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,b.jsx)("input",{type:"datetime-local",required:!0,className:"border border-input bg-secondary text-foreground p-2 rounded focus:ring-2 focus:ring-ring focus:outline-none",value:o.show_time,onChange:a=>p({...o,show_time:a.target.value})}),(0,b.jsx)("input",{type:"number",placeholder:"Price",required:!0,className:"border border-input bg-secondary text-foreground p-2 rounded focus:ring-2 focus:ring-ring focus:outline-none",value:o.price,onChange:a=>p({...o,price:a.target.value})}),(0,b.jsx)("button",{type:"submit",className:"md:col-span-2 bg-primary text-primary-foreground p-2 rounded hover:bg-primary/90 transition-colors",children:"Add Show"})]})]}),(0,b.jsx)("div",{className:"space-y-4",children:m?(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading..."}):a.map(a=>{let c,e;return(0,b.jsxs)("div",{className:"bg-card p-4 rounded shadow flex justify-between items-center border border-border",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-foreground",children:a.movie?.title||(c=a.movie_id,i.find(a=>a.id===c)?.title||`Movie #${c}`)}),(0,b.jsx)("p",{className:"text-muted-foreground",children:a.theater?.name||(e=a.theater_id,k.find(a=>a.id===e)?.name||`Theater #${e}`)}),(0,b.jsxs)("div",{className:"flex gap-4 text-sm text-muted-foreground mt-1",children:[(0,b.jsxs)("span",{className:"flex items-center",children:[(0,b.jsx)(f.Calendar,{size:14,className:"mr-1"})," ",new Date(a.show_time).toLocaleString()]}),(0,b.jsxs)("span",{className:"flex items-center",children:[(0,b.jsx)(g,{size:14,className:"mr-1"})," $",a.price]})]})]}),(0,b.jsx)("button",{onClick:()=>u(a.id),className:"text-destructive hover:text-destructive/80 bg-secondary p-2 rounded-full transition-colors",children:(0,b.jsx)(d.Trash2,{size:20})})]},a.id)})})]})}a.s(["default",()=>h],59309)}];

//# sourceMappingURL=_f223b88b._.js.map
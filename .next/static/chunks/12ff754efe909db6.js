(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var r=e.i(71645);let t=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)(({color:e="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:d="",children:n,iconNode:l,...c},h)=>(0,r.createElement)("svg",{ref:h,...s,width:i,height:i,stroke:e,strokeWidth:o?24*Number(a)/Number(i):a,className:t("lucide",d),...c},[...l.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(n)?n:[n]])),a=(e,s)=>{let a=(0,r.forwardRef)(({className:a,...o},d)=>(0,r.createElement)(i,{ref:d,iconNode:s,className:t(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,a),...o}));return a.displayName=`${e}`,a};e.s(["default",()=>a],75254)},87316,e=>{"use strict";let r=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>r],87316)},27612,e=>{"use strict";let r=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>r],27612)},7233,e=>{"use strict";let r=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],7233)},62632,e=>{"use strict";e.i(47167);var r=e.i(43476),t=e.i(71645),s=e.i(27612),i=e.i(7233),a=e.i(87316);let o=(0,e.i(75254).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);function d(){let[e,d]=(0,t.useState)([]),[n,l]=(0,t.useState)([]),[c,h]=(0,t.useState)([]),[u,m]=(0,t.useState)(!0),[p,f]=(0,t.useState)({movie_id:"",theater_id:"",show_time:"",price:""});(0,t.useEffect)(()=>{Promise.all([x(),y(),v()]).then(()=>m(!1))},[]);let g=e=>{let r="http://localhost:5000/api";return r.endsWith("/api")?`${r}/${e}`:`${r}/api/${e}`},x=async()=>{try{let e=await fetch(g("shows")),r=await e.json();d(Array.isArray(r)?r:[])}catch(e){console.error("Error fetching shows",e)}},y=async()=>{try{let e=await fetch(g("movies")),r=await e.json();l(Array.isArray(r)?r:[])}catch(e){console.error("Error fetching movies",e)}},v=async()=>{try{let e=await fetch(g("theaters")),r=await e.json();h(Array.isArray(r)?r:[])}catch(e){console.error("Error fetching theaters",e)}},w=async r=>{if(confirm("Are you sure you want to delete this show?"))try{(await fetch(g(`shows/${r}`),{method:"DELETE"})).ok&&d(e.filter(e=>e.id!==r))}catch(e){console.error("Deletion failed",e)}},b=async e=>{e.preventDefault();try{let e=await fetch(g("shows"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({movie_id:p.movie_id,theater_id:p.theater_id,start_time:p.show_time,price:Number(p.price)})});e.ok?(await e.json(),x(),f({movie_id:"",theater_id:"",show_time:"",price:""}),alert("Show added successfully")):alert("Failed to add show")}catch(e){console.error("Submission failed",e)}};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Manage Shows"}),(0,r.jsxs)("div",{className:"bg-card p-6 rounded-lg shadow-md border border-border",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center text-foreground",children:[(0,r.jsx)(i.Plus,{className:"mr-2",size:20})," Add New Show"]}),(0,r.jsxs)("form",{onSubmit:b,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("select",{required:!0,className:"border border-input bg-secondary text-foreground p-2 rounded focus:ring-2 focus:ring-ring focus:outline-none",value:p.movie_id,onChange:e=>f({...p,movie_id:e.target.value}),children:[(0,r.jsx)("option",{value:"",children:"Select Movie"}),n.map(e=>(0,r.jsx)("option",{value:e.id,children:e.title},e.id))]}),(0,r.jsxs)("select",{required:!0,className:"border border-input bg-secondary text-foreground p-2 rounded focus:ring-2 focus:ring-ring focus:outline-none",value:p.theater_id,onChange:e=>f({...p,theater_id:e.target.value}),children:[(0,r.jsx)("option",{value:"",children:"Select Theater"}),c.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,r.jsx)("input",{type:"datetime-local",required:!0,className:"border border-input bg-secondary text-foreground p-2 rounded focus:ring-2 focus:ring-ring focus:outline-none",value:p.show_time,onChange:e=>f({...p,show_time:e.target.value})}),(0,r.jsx)("input",{type:"number",placeholder:"Price",required:!0,className:"border border-input bg-secondary text-foreground p-2 rounded focus:ring-2 focus:ring-ring focus:outline-none",value:p.price,onChange:e=>f({...p,price:e.target.value})}),(0,r.jsx)("button",{type:"submit",className:"md:col-span-2 bg-primary text-primary-foreground p-2 rounded hover:bg-primary/90 transition-colors",children:"Add Show"})]})]}),(0,r.jsx)("div",{className:"space-y-4",children:u?(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading..."}):e.map(e=>{let t,i;return(0,r.jsxs)("div",{className:"bg-card p-4 rounded shadow flex justify-between items-center border border-border",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-lg text-foreground",children:e.movie?.title||(t=e.movie_id,n.find(e=>e.id===t)?.title||`Movie #${t}`)}),(0,r.jsx)("p",{className:"text-muted-foreground",children:e.theater?.name||(i=e.theater_id,c.find(e=>e.id===i)?.name||`Theater #${i}`)}),(0,r.jsxs)("div",{className:"flex gap-4 text-sm text-muted-foreground mt-1",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(a.Calendar,{size:14,className:"mr-1"})," ",new Date(e.show_time).toLocaleString()]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(o,{size:14,className:"mr-1"})," $",e.price]})]})]}),(0,r.jsx)("button",{onClick:()=>w(e.id),className:"text-destructive hover:text-destructive/80 bg-secondary p-2 rounded-full transition-colors",children:(0,r.jsx)(s.Trash2,{size:20})})]},e.id)})})]})}e.s(["default",()=>d],62632)}]);
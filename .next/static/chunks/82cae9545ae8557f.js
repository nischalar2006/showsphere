(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54858,e=>{"use strict";async function t(e,r={}){let a=localStorage.getItem("access_token"),n={"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`},...r.headers},s=await fetch(`http://localhost:5000/api${e}`,{...r,headers:n});if(!s.ok)throw Error((await s.json().catch(()=>({error:"Request failed"}))).error||`HTTP ${s.status}`);return s.json()}e.s(["authApi",0,{signUp:e=>t("/auth/signup",{method:"POST",body:JSON.stringify(e)}),signIn:async e=>{let r=await t("/auth/signin",{method:"POST",body:JSON.stringify(e)});return r.session?.access_token&&(localStorage.setItem("access_token",r.session.access_token),localStorage.setItem("user",JSON.stringify(r.user))),r},signOut:async()=>{await t("/auth/signout",{method:"POST"}),localStorage.removeItem("access_token"),localStorage.removeItem("user")},getProfile:()=>t("/auth/profile")},"bookingsApi",0,{create:e=>t("/bookings",{method:"POST",body:JSON.stringify(e)}),getUserBookings:()=>t("/bookings"),getById:e=>t(`/bookings/${e}`)},"moviesApi",0,{getAll:()=>t("/movies"),getById:e=>t(`/movies/${e}`),create:e=>t("/movies",{method:"POST",body:JSON.stringify(e)}),update:(e,r)=>t(`/movies/${e}`,{method:"PUT",body:JSON.stringify(r)}),delete:e=>t(`/movies/${e}`,{method:"DELETE"})},"showsApi",0,{getAll:e=>{let r=new URLSearchParams(e).toString();return t(`/shows${r?`?${r}`:""}`)},getById:e=>t(`/shows/${e}`),create:e=>t("/shows",{method:"POST",body:JSON.stringify(e)})}])},38938,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(54858);let n=(0,r.createContext)(void 0);function s({children:e}){let[s,o]=(0,r.useState)(null),[i,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=localStorage.getItem("user"),t=localStorage.getItem("access_token");if(e&&t)try{o(JSON.parse(e))}catch(e){console.error("Failed to parse stored user",e),localStorage.removeItem("user")}l(!1)},[]);let c=async(e,t)=>{try{let r=await a.authApi.signIn({email:e,password:t});o(r.user)}catch(e){throw e}},u=async(e,t,r,n)=>{try{await a.authApi.signUp({email:e,password:t,full_name:r,phone_number:n})}catch(e){throw e}},d=async()=>{try{await a.authApi.signOut(),o(null)}catch(e){console.error("Sign out error:",e),o(null),localStorage.removeItem("user"),localStorage.removeItem("access_token")}};return(0,t.jsx)(n.Provider,{value:{user:s,loading:i,signIn:c,signUp:u,logout:d,isAuthenticated:!!s},children:e})}function o(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>s,"useAuth",()=>o])},18566,(e,t,r)=>{t.exports=e.r(76562)},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={assign:function(){return l},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return i}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});function s(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function o(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function i(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,o(e));else t.set(r,o(a));return t}function l(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,a]of r.entries())e.append(t,a)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={formatUrl:function(){return i},formatWithValidation:function(){return c},urlObjectKeys:function(){return l}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=e.r(90809)._(e.r(98183)),o=/https?|ftp|gopher|file/;function i(e){let{auth:t,hostname:r}=e,a=e.protocol||"",n=e.pathname||"",i=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(s.urlQueryToSearchParams(l)));let u=e.search||l&&`?${l}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||o.test(a))&&!1!==c?(c="//"+(c||""),n&&"/"!==n[0]&&(n="/"+n)):c||(c=""),i&&"#"!==i[0]&&(i="#"+i),u&&"?"!==u[0]&&(u="?"+u),n=n.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),`${a}${c}${n}${u}${i}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return i(e)}},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return y},MiddlewareNotFoundError:function(){return w},MissingStaticPage:function(){return b},NormalizeError:function(){return x},PageNotFoundError:function(){return v},SP:function(){return p},ST:function(){return g},WEB_VITALS:function(){return s},execOnce:function(){return o},getDisplayName:function(){return d},getLocationOrigin:function(){return c},getURL:function(){return u},isAbsoluteUrl:function(){return l},isResSent:function(){return f},loadGetInitialProps:function(){return m},normalizeRepeatedSlashes:function(){return h},stringifyError:function(){return j}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function o(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let i=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>i.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function u(){let{href:e}=window.location,t=c();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function h(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function m(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await m(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&f(r))return a;if(!a)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let p="undefined"!=typeof performance,g=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class y extends Error{}class x extends Error{}class v extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class b extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class w extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function j(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let a=e.r(18967),n=e.r(52817);function s(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return y},useLinkStatus:function(){return v}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=e.r(90809),o=e.r(43476),i=s._(e.r(71645)),l=e.r(95057),c=e.r(8372),u=e.r(18581),d=e.r(18967),f=e.r(5550);e.r(33525);let h=e.r(91949),m=e.r(73668),p=e.r(9396);function g(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function y(t){var r;let a,n,s,[l,y]=(0,i.useOptimistic)(h.IDLE_LINK_STATUS),v=(0,i.useRef)(null),{href:b,as:w,children:j,prefetch:k=null,passHref:N,replace:S,shallow:E,scroll:P,onClick:C,onMouseEnter:A,onTouchStart:O,legacyBehavior:M=!1,onNavigate:_,ref:T,unstable_dynamicOnHover:$,...I}=t;a=j,M&&("string"==typeof a||"number"==typeof a)&&(a=(0,o.jsx)("a",{children:a}));let L=i.default.useContext(c.AppRouterContext),R=!1!==k,B=!1!==k?null===(r=k)||"auto"===r?p.FetchStrategy.PPR:p.FetchStrategy.Full:p.FetchStrategy.PPR,{href:z,as:U}=i.default.useMemo(()=>{let e=g(b);return{href:e,as:w?g(w):e}},[b,w]);if(M){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=i.default.Children.only(a)}let F=M?n&&"object"==typeof n&&n.ref:T,D=i.default.useCallback(e=>(null!==L&&(v.current=(0,h.mountLinkInstance)(e,z,L,B,R,y)),()=>{v.current&&((0,h.unmountLinkForCurrentNavigation)(v.current),v.current=null),(0,h.unmountPrefetchableInstance)(e)}),[R,z,L,B,y]),H={ref:(0,u.useMergedRef)(D,F),onClick(t){M||"function"!=typeof C||C(t),M&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!L||t.defaultPrevented||function(t,r,a,n,s,o,l){if("undefined"!=typeof window){let c,{nodeName:u}=t.currentTarget;if("A"===u.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,m.isLocalURL)(r)){s&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(99781);i.default.startTransition(()=>{d(a||r,s?"replace":"push",o??!0,n.current)})}}(t,z,U,v,S,P,_)},onMouseEnter(e){M||"function"!=typeof A||A(e),M&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),L&&R&&(0,h.onNavigationIntent)(e.currentTarget,!0===$)},onTouchStart:function(e){M||"function"!=typeof O||O(e),M&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),L&&R&&(0,h.onNavigationIntent)(e.currentTarget,!0===$)}};return(0,d.isAbsoluteUrl)(U)?H.href=U:M&&!N&&("a"!==n.type||"href"in n.props)||(H.href=(0,f.addBasePath)(U)),s=M?i.default.cloneElement(n,H):(0,o.jsx)("a",{...I,...H,children:a}),(0,o.jsx)(x.Provider,{value:l,children:s})}e.r(84508);let x=(0,i.createContext)(h.IDLE_LINK_STATUS),v=()=>(0,i.useContext)(x);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},46897,e=>{"use strict";let t=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let a=e.r(71645);function n(e,t){let r=(0,a.useRef)(null),n=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=s(e,a)),t&&(n.current=s(t,a))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},75254,e=>{"use strict";var t=e.i(71645);let r=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)(({color:e="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:i="",children:l,iconNode:c,...u},d)=>(0,t.createElement)("svg",{ref:d,...a,width:n,height:n,stroke:e,strokeWidth:o?24*Number(s)/Number(n):s,className:r("lucide",i),...u},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(l)?l:[l]])),s=(e,a)=>{let s=(0,t.forwardRef)(({className:s,...o},i)=>(0,t.createElement)(n,{ref:i,iconNode:a,className:r(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,s),...o}));return s.displayName=`${e}`,s};e.s(["default",()=>s],75254)},67881,25913,e=>{"use strict";var t=e.i(43476),r=e.i(91918),a=e.i(7670);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=a.clsx,o=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return s(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:o,defaultVariants:i}=t,l=Object.keys(o).map(e=>{let t=null==r?void 0:r[e],a=null==i?void 0:i[e];if(null===t)return null;let s=n(t)||n(a);return o[e][s]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return s(e,l,null==t||null==(a=t.compoundVariants)?void 0:a.reduce((e,t)=>{let{class:r,className:a,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...c}[t]):({...i,...c})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)};e.s(["cva",0,o],25913);var i=e.i(47163);let l=o("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function c({className:e,variant:a,size:n,asChild:s=!1,...o}){let c=s?r.Slot:"button";return(0,t.jsx)(c,{"data-slot":"button",className:(0,i.cn)(l({variant:a,size:n,className:e})),...o})}e.s(["Button",()=>c],67881)},37727,41947,e=>{"use strict";let t=(0,e.i(75254).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["default",()=>t],41947),e.s(["X",()=>t],37727)},44728,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let a=(0,r.createContext)(void 0);function n({children:e}){let[n,s]=(0,r.useState)("Delhi");return(0,t.jsx)(a.Provider,{value:{selectedCity:n,setSelectedCity:s},children:e})}function s(){let e=(0,r.useContext)(a);if(void 0===e)throw Error("useCity must be used within a CityProvider");return e}e.s(["CityProvider",()=>n,"useCity",()=>s])},84614,e=>{"use strict";let t=(0,e.i(75254).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},93886,e=>{"use strict";let t=(0,e.i(75254).default)("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);e.s(["Film",()=>t],93886)},90597,e=>{"use strict";let t=(0,e.i(75254).default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);e.s(["Heart",()=>t],90597)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],55436)},15080,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75254);let n=(0,a.default)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);var s=e.i(37727);let o=(0,a.default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),i=["Hi! I'm your ShowSphere assistant. How can I help you book tickets today?","Welcome to ShowSphere! Looking to book some movie tickets? I'm here to help!"],l=["We have a great selection of Bollywood, South Indian, and Hollywood movies. What genre are you interested in?","You can browse movies by category - trending, upcoming, old hits, or events. Which would you like to explore?"],c=["Booking is easy! Just select a movie → choose your date and cinema → pick your seats → complete payment. What movie interests you?","The booking process takes just a few steps. Select your movie, choose seats, and pay securely. Ready to start?"],u=["Our ticket prices typically range from ₹300 to ₹650 depending on the theater and show time.","Prices vary by cinema and timing. Premium shows are around ₹650, while standard shows are ₹300-₹500."],d=["Our seat selector shows available seats in real-time. You can pick your favorite seats with a great view!","Choose your seats based on your preference - we have all standard seat options available."],f=["That's great! Is there anything else you'd like to know about booking tickets with ShowSphere?","I'm here to help! You can ask me about movies, ticket prices, the booking process, or seat selection.","Feel free to ask me anything about booking tickets, available movies, prices, or how our system works."];function h(){let[e,a]=(0,r.useState)(!1),[h,m]=(0,r.useState)([{id:"1",text:"Hi! I'm your ShowSphere assistant. How can I help you book tickets today?",sender:"bot",timestamp:new Date}]),[p,g]=(0,r.useState)(""),[y,x]=(0,r.useState)(!1),v=(0,r.useRef)(null);(0,r.useEffect)(()=>{v.current?.scrollIntoView({behavior:"smooth"})},[h]);let b=async()=>{if(!p.trim())return;let e={id:Date.now().toString(),text:p,sender:"user",timestamp:new Date};m(t=>[...t,e]),g(""),x(!0),setTimeout(()=>{let e,t=(e=p.toLowerCase()).match(/hi|hello|hey|greet/)?i[Math.floor(Math.random()*i.length)]:e.match(/movie|film|watch|available/)?l[Math.floor(Math.random()*l.length)]:e.match(/book|booking|how|process|step/)?c[Math.floor(Math.random()*c.length)]:e.match(/price|cost|₹|rupees|expensive/)?u[Math.floor(Math.random()*u.length)]:e.match(/seat|chair|prefer/)?d[Math.floor(Math.random()*d.length)]:f[Math.floor(Math.random()*f.length)],r={id:(Date.now()+1).toString(),text:t,sender:"bot",timestamp:new Date};m(e=>[...e,r]),x(!1)},500)};return(0,t.jsxs)(t.Fragment,{children:[!e&&(0,t.jsx)("button",{onClick:()=>a(!0),className:"fixed bottom-6 right-6 bg-accent hover:bg-accent/90 text-accent-foreground rounded-full p-4 shadow-lg hover:shadow-xl transition-all duration-300 z-40 flex items-center justify-center animate-bounce","aria-label":"Open chatbot",children:(0,t.jsx)(n,{className:"w-6 h-6"})}),e&&(0,t.jsxs)("div",{className:"fixed bottom-6 right-6 w-96 max-w-[calc(100vw-2rem)] bg-card rounded-2xl shadow-2xl border border-border flex flex-col max-h-96 z-50 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[(0,t.jsxs)("div",{className:"bg-accent text-accent-foreground rounded-t-2xl p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:"ShowSphere Assistant"}),(0,t.jsx)("p",{className:"text-sm text-accent-foreground/80",children:"Always here to help"})]}),(0,t.jsx)("button",{onClick:()=>a(!1),className:"hover:bg-accent/80 p-2 rounded-lg transition-colors","aria-label":"Close chatbot",children:(0,t.jsx)(s.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-background",children:[h.map(e=>(0,t.jsx)("div",{className:`flex ${"user"===e.sender?"justify-end":"justify-start"}`,children:(0,t.jsxs)("div",{className:`max-w-xs px-4 py-3 rounded-lg ${"user"===e.sender?"bg-accent text-accent-foreground rounded-br-none":"bg-muted text-foreground rounded-bl-none"}`,children:[(0,t.jsx)("p",{className:"text-sm break-words",children:e.text}),(0,t.jsx)("p",{className:"text-xs opacity-70 mt-1",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id)),y&&(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsx)("div",{className:"bg-muted text-foreground px-4 py-3 rounded-lg rounded-bl-none",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),(0,t.jsx)("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce delay-100"}),(0,t.jsx)("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce delay-200"})]})})}),(0,t.jsx)("div",{ref:v})]}),(0,t.jsx)("div",{className:"border-t border-border p-4 bg-card rounded-b-2xl",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),onKeyPress:e=>"Enter"===e.key&&b(),placeholder:"Ask about movies, tickets...",disabled:y,className:"flex-1 bg-input border border-border rounded-lg px-3 py-2 text-sm text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-accent disabled:opacity-50"}),(0,t.jsx)("button",{onClick:b,disabled:y||!p.trim(),className:"bg-accent hover:bg-accent/90 text-accent-foreground rounded-lg p-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center","aria-label":"Send message",children:(0,t.jsx)(o,{className:"w-4 h-4"})})]})})]})]})}e.s(["AIChatbot",()=>h],15080)},13474,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(22016),n=e.i(55436),s=e.i(46897),o=e.i(75254);let i=(0,o.default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var l=e.i(37727),c=e.i(67881),u=e.i(84614);let d=(0,o.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),f=(0,o.default)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),h=(0,o.default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var m=e.i(90597);let p=(0,o.default)("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);var g=e.i(93886),y=e.i(38938);function x(){let[e,n]=(0,r.useState)(!1),s=(0,r.useRef)(null),{user:o,logout:i}=(0,y.useAuth)();if((0,r.useEffect)(()=>{function e(e){s.current&&!s.current.contains(e.target)&&n(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),!o)return null;let l=o.full_name||o.email?.split("@")[0]||"User",c=l.charAt(0).toUpperCase();return(0,t.jsxs)("div",{className:"relative",ref:s,children:[(0,t.jsx)("button",{onClick:()=>n(!e),className:"w-10 h-10 rounded-full bg-[#111827] flex items-center justify-center text-[#E5E7EB] font-bold border border-white/15 hover:border-[#2563EB] transition-colors",children:c}),e&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50",children:[(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200",children:[(0,t.jsx)("p",{className:"font-semibold text-gray-900",children:l}),o.phone_number&&(0,t.jsx)("p",{className:"text-sm text-gray-600",children:o.phone_number}),o.email&&(0,t.jsx)("p",{className:"text-sm text-gray-600",children:o.email})]}),(0,t.jsx)(a.default,{href:"/profile",className:"w-full",children:(0,t.jsxs)("button",{onClick:()=>n(!1),className:"w-full flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 transition",children:[(0,t.jsx)(u.User,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"My Profile"})]})}),(0,t.jsx)(a.default,{href:"/favorites",className:"w-full",children:(0,t.jsxs)("button",{onClick:()=>n(!1),className:"w-full flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 transition",children:[(0,t.jsx)(m.Heart,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"My Favorites"})]})}),(0,t.jsx)(a.default,{href:"/my-bookings",className:"w-full",children:(0,t.jsxs)("button",{onClick:()=>n(!1),className:"w-full flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 transition",children:[(0,t.jsx)(f,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"My Bookings"})]})}),(0,t.jsx)(a.default,{href:"/cinenews",className:"w-full",children:(0,t.jsxs)("button",{onClick:()=>n(!1),className:"w-full flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 transition",children:[(0,t.jsx)(p,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Cinema News"})]})}),(0,t.jsx)(a.default,{href:"/trailers/upcoming",className:"w-full",children:(0,t.jsxs)("button",{onClick:()=>n(!1),className:"w-full flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 transition",children:[(0,t.jsx)(g.Film,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Trailers"})]})}),(0,t.jsx)(a.default,{href:"/settings",className:"w-full",children:(0,t.jsxs)("button",{onClick:()=>n(!1),className:"w-full flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 transition",children:[(0,t.jsx)(h,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Settings"})]})}),(0,t.jsx)("div",{className:"border-t border-gray-200 mt-2 pt-2",children:(0,t.jsxs)("button",{onClick:()=>{i(),n(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 transition",children:[(0,t.jsx)(d,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Logout"})]})})]})]})}var v=e.i(44728),b=e.i(18566),w=e.i(54858);function j(){let[e,o]=(0,r.useState)(!1),[u,d]=(0,r.useState)(""),[f,h]=(0,r.useState)([]),[m,p]=(0,r.useState)([]),[g,j]=(0,r.useState)(!1),k=(0,r.useRef)(null),{user:N}=(0,y.useAuth)(),{selectedCity:S,setSelectedCity:E}=(0,v.useCity)(),P=(0,b.useRouter)(),C=(0,b.useSearchParams)();(0,r.useEffect)(()=>{let e=C.get("search");e?d(e):d("")},[C]),(0,r.useEffect)(()=>{(async()=>{try{let e=await w.moviesApi.getAll();h(e)}catch(e){console.error("Failed to fetch movies for suggestions:",e)}})()},[]),(0,r.useEffect)(()=>{u.trim().length>0?(p(f.filter(e=>e.title.toLowerCase().includes(u.toLowerCase())).slice(0,5)),j(!0)):(p([]),j(!1))},[u,f]),(0,r.useEffect)(()=>{function e(e){k.current&&!k.current.contains(e.target)&&j(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let A=["Delhi","Mumbai","Bangalore","Hyderabad","Chennai","Goa","Gurugram"],O=e=>{e.trim()&&(P.push(`/movies?search=${encodeURIComponent(e)}`),j(!1))};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("nav",{className:"sticky top-0 z-50 bg-gradient-to-b from-[#2563EB] to-[#1E40AF] shadow-lg",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center h-16 md:h-20",children:[(0,t.jsxs)(a.default,{href:"/",className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-[#111827] rounded-lg border border-white/20 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-[#2563EB] font-bold text-lg",children:"SS"})}),(0,t.jsxs)("span",{className:"hidden sm:block text-2xl font-bold tracking-tight text-[#E5E7EB]",children:["ShowSphere",(0,t.jsx)("span",{className:"text-[#2563EB]",children:"."})]})]}),(0,t.jsxs)("div",{className:"hidden md:flex items-center gap-8",children:[(0,t.jsx)(a.default,{href:"/",className:"text-primary-foreground hover:text-accent transition",children:"Home"}),(0,t.jsx)(a.default,{href:"/movies",className:"text-primary-foreground hover:text-accent transition",children:"Movies"}),(0,t.jsx)(a.default,{href:"/events",className:"text-primary-foreground hover:text-accent transition",children:"Events"}),(0,t.jsx)(a.default,{href:"/activities",className:"text-primary-foreground hover:text-accent transition",children:"Activities"}),(0,t.jsx)(a.default,{href:"/cinenews",className:"text-primary-foreground hover:text-accent transition",children:"News"}),(0,t.jsx)(a.default,{href:"/trailers/upcoming",className:"text-primary-foreground hover:text-accent transition",children:"Trailers"})]}),(0,t.jsxs)("div",{className:"hidden lg:flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-primary-foreground/20 rounded-lg text-primary-foreground border border-primary-foreground/30",children:[(0,t.jsx)(s.MapPin,{className:"w-4 h-4"}),(0,t.jsx)("select",{value:S,onChange:e=>E(e.target.value),className:"bg-transparent text-sm font-medium focus:outline-none cursor-pointer",children:A.map(e=>(0,t.jsx)("option",{value:e,className:"bg-primary text-primary-foreground",children:e},e))})]}),(0,t.jsxs)("div",{className:"relative w-64",ref:k,children:[(0,t.jsx)(n.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)("input",{type:"text",placeholder:"Search movies...",value:u,onChange:e=>d(e.target.value),onKeyPress:e=>"Enter"===e.key&&O(u),onFocus:()=>{u.trim().length>0&&j(!0)},className:"w-full pl-10 pr-4 py-2 rounded-lg bg-primary-foreground/20 text-primary-foreground placeholder:text-primary-foreground/60 border border-primary-foreground/30 focus:outline-none focus:border-accent"}),g&&m.length>0&&(0,t.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-zinc-900 rounded-lg shadow-xl border border-gray-200 dark:border-zinc-800 overflow-hidden z-50",children:(0,t.jsx)("ul",{children:m.map(e=>(0,t.jsxs)("li",{onClick:()=>{P.push(`/movies/${e.id}`),d(e.title),j(!1)},className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-zinc-800 cursor-pointer text-sm text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[(0,t.jsx)(n.Search,{className:"w-3 h-3 text-muted-foreground"}),(0,t.jsx)("span",{className:"font-medium truncate",children:e.title})]},e.id))})})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[N?(0,t.jsx)(x,{}):(0,t.jsx)(a.default,{href:"/login",children:(0,t.jsx)(c.Button,{className:"hidden sm:flex bg-white hover:bg-gray-100 text-[#2563EB] font-semibold",children:"Login"})}),(0,t.jsx)(c.Button,{variant:"ghost",size:"icon",className:"md:hidden text-primary-foreground hover:bg-primary-foreground/20",onClick:()=>o(!e),children:e?(0,t.jsx)(l.X,{className:"w-5 h-5"}):(0,t.jsx)(i,{className:"w-5 h-5"})})]})]}),e&&(0,t.jsx)("div",{className:"md:hidden pb-4 border-t border-primary-foreground/20",children:(0,t.jsxs)("div",{className:"flex flex-col gap-4 pt-4",children:[(0,t.jsx)(a.default,{href:"/",className:"text-primary-foreground hover:text-accent",children:"Home"}),(0,t.jsx)(a.default,{href:"/movies",className:"text-primary-foreground hover:text-accent",children:"Movies"}),(0,t.jsx)(a.default,{href:"/events",className:"text-primary-foreground hover:text-accent",children:"Events"}),(0,t.jsx)(a.default,{href:"/activities",className:"text-primary-foreground hover:text-accent",children:"Activities"}),(0,t.jsx)(a.default,{href:"/cinenews",className:"text-primary-foreground hover:text-accent",children:"News"}),(0,t.jsx)(a.default,{href:"/trailers/upcoming",className:"text-primary-foreground hover:text-accent",children:"Trailers"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-primary-foreground/20 rounded-lg text-primary-foreground border border-primary-foreground/30",children:[(0,t.jsx)(s.MapPin,{className:"w-4 h-4"}),(0,t.jsx)("select",{value:S,onChange:e=>E(e.target.value),className:"flex-1 bg-transparent font-medium focus:outline-none cursor-pointer",children:A.map(e=>(0,t.jsx)("option",{value:e,className:"bg-primary text-primary-foreground",children:e},e))})]}),(0,t.jsxs)("div",{className:"relative pt-2",children:[(0,t.jsx)(n.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)("input",{type:"text",placeholder:"Search movies...",value:u,onChange:e=>d(e.target.value),onKeyPress:e=>"Enter"===e.key&&O(u),className:"w-full pl-10 pr-4 py-2 rounded-lg bg-primary-foreground/20 text-primary-foreground placeholder:text-primary-foreground/60 border border-primary-foreground/30 focus:outline-none focus:border-accent"})]}),!N&&(0,t.jsx)(a.default,{href:"/login",className:"w-full",children:(0,t.jsx)(c.Button,{className:"w-full bg-accent hover:bg-accent/90 text-primary font-semibold",children:"Login"})})]})})]})})})}function k(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("nav",{className:"h-16 md:h-20 bg-primary"}),children:(0,t.jsx)(j,{})})}e.s(["Navigation",()=>k],13474)},2355,e=>{"use strict";var t=e.i(47167),r=e.i(71645),a=e.i(18566);function n(){return"undefined"!=typeof window}function s(){return"production"}function o(){return"development"===((n()?window.vam:s())||"production")}function i(e){return RegExp(`/${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(?=[/?#]|$)`)}function l(e){return(0,r.useEffect)(()=>{var t;e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),(0,r.useEffect)(()=>{!function(e={debug:!0}){var t;if(!n())return;!function(e="auto"){if("auto"===e){window.vam=s();return}window.vam=e}(e.mode),window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)}),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));let r=e.scriptSrc?e.scriptSrc:o()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${r}"]`))return;let a=document.createElement("script");a.src=r,a.defer=!0,a.dataset.sdkn="@vercel/analytics"+(e.framework?`/${e.framework}`:""),a.dataset.sdkv="1.5.0",e.disableAutoTrack&&(a.dataset.disableAutoTrack="1"),e.endpoint?a.dataset.endpoint=e.endpoint:e.basePath&&(a.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(a.dataset.dsn=e.dsn),a.onerror=()=>{let e=o()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${e}`)},o()&&!1===e.debug&&(a.dataset.debug="false"),document.head.appendChild(a)}({framework:e.framework||"react",basePath:e.basePath??function(){if(void 0!==t.default&&void 0!==t.default.env)return t.default.env.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}(),...void 0!==e.route&&{disableAutoTrack:!0},...e})},[]),(0,r.useEffect)(()=>{e.route&&e.path&&function({route:e,path:t}){var r;null==(r=window.va)||r.call(window,"pageview",{route:e,path:t})}({route:e.route,path:e.path})},[e.route,e.path]),null}function c(e){let n,s,o,{route:c,path:u}=(n=(0,a.useParams)(),s=(0,a.useSearchParams)(),o=(0,a.usePathname)(),n?{route:function(e,t){if(!e||!t)return e;let r=e;try{let e=Object.entries(t);for(let[t,a]of e)if(!Array.isArray(a)){let e=i(a);e.test(r)&&(r=r.replace(e,`/[${t}]`))}for(let[t,a]of e)if(Array.isArray(a)){let e=i(a.join("/"));e.test(r)&&(r=r.replace(e,`/[...${t}]`))}return r}catch(t){return e}}(o,Object.keys(n).length?n:Object.fromEntries(s.entries())),path:o}:{route:null,path:o});return r.default.createElement(l,{path:u,route:c,...e,basePath:function(){if(void 0!==t.default&&void 0!==t.default.env)return t.default.env.NEXT_PUBLIC_VERCEL_OBSERVABILITY_BASEPATH}(),framework:"next"})}function u(e){return r.default.createElement(r.Suspense,{fallback:null},r.default.createElement(c,{...e}))}e.s(["Analytics",()=>u])}]);
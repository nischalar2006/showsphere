(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let r=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,t.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:d,iconNode:n,...c},h)=>(0,t.createElement)("svg",{ref:h,...a,width:s,height:s,stroke:e,strokeWidth:o?24*Number(i)/Number(s):i,className:r("lucide",l),...c},[...n.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(d)?d:[d]])),i=(e,a)=>{let i=(0,t.forwardRef)(({className:i,...o},l)=>(0,t.createElement)(s,{ref:l,iconNode:a,className:r(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,i),...o}));return i.displayName=`${e}`,i};e.s(["default",()=>i],75254)},46897,e=>{"use strict";let t=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},94223,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(27612),s=e.i(7233),i=e.i(46897);function o(){let[e,o]=(0,r.useState)([]),[l,d]=(0,r.useState)(!0),[n,c]=(0,r.useState)({name:"",city:""});(0,r.useEffect)(()=>{h()},[]);let h=async()=>{try{let e="http://localhost:5000/api",t=e.endsWith("/api")?`${e}/theaters`:`${e}/api/theaters`,r=await fetch(t),a=await r.json();Array.isArray(a)?o(a):(console.error("API returned non-array:",a),o([]))}catch(e){console.error("Failed to fetch theaters",e),o([])}finally{d(!1)}},u=async t=>{if(confirm("Are you sure you want to delete this theater?"))try{let r="http://localhost:5000/api",a=r.endsWith("/api")?`${r}/theaters/${t}`:`${r}/api/theaters/${t}`;(await fetch(a,{method:"DELETE"})).ok?o(e.filter(e=>e.id!==t)):alert("Failed to delete theater")}catch(e){console.error("Error deleting theater",e)}},m=async t=>{t.preventDefault();try{let t="http://localhost:5000/api",r=t.endsWith("/api")?`${t}/theaters`:`${t}/api/theaters`,a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,ticketPrice:200})});if(a.ok){let t=await a.json();o([...e,t]),c({name:"",city:""}),alert("Theater added successfully")}else alert("Failed to add theater")}catch(e){console.error("Error adding theater",e)}};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Manage Theaters"}),(0,t.jsxs)("div",{className:"bg-card p-6 rounded-lg shadow-md border border-border max-w-2xl",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center text-foreground",children:[(0,t.jsx)(s.Plus,{className:"mr-2",size:20})," Add New Theater"]}),(0,t.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-muted-foreground",children:"Name"}),(0,t.jsx)("input",{type:"text",required:!0,className:"mt-1 w-full border border-input bg-secondary text-foreground p-2 rounded focus:ring-2 focus:ring-ring focus:outline-none",value:n.name,onChange:e=>c({...n,name:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-muted-foreground",children:"City"}),(0,t.jsx)("input",{type:"text",required:!0,className:"mt-1 w-full border border-input bg-secondary text-foreground p-2 rounded focus:ring-2 focus:ring-ring focus:outline-none",value:n.city,onChange:e=>c({...n,city:e.target.value})})]}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-primary text-primary-foreground p-2 rounded hover:bg-primary/90 transition-colors",children:"Add Theater"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l?(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading..."}):e.map(e=>(0,t.jsx)("div",{className:"bg-card p-4 rounded-lg shadow hover:shadow-md transition-shadow relative border border-border",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-lg text-foreground",children:e.name}),(0,t.jsxs)("p",{className:"text-muted-foreground flex items-center mt-1",children:[(0,t.jsx)(i.MapPin,{size:16,className:"mr-1"})," ",e.city]})]}),(0,t.jsx)("button",{onClick:()=>u(e.id),className:"text-destructive hover:text-destructive/80 transition-colors",children:(0,t.jsx)(a.Trash2,{size:20})})]})},e.id))})]})}e.s(["default",()=>o])}]);